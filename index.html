<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="style.css">
  <title>QR_Scan</title>
</head>
<body>

<div id="sidebar" class="sidebar">
  <div class="sidebar-header">–ú–µ–Ω—é —Å–∏—Å—Ç–µ–º—ã</div>
  <nav>
    <button onclick="switchModule('inventory')" class="nav-btn active">üì¶ –ò–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è</button>
    <button onclick="switchModule('viewDb')" class="nav-btn">üóÉÔ∏è –ü—Ä–æ—Å–º–æ—Ç—Ä –ë–î</button>
    <button onclick="switchModule('settings')" class="nav-btn">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
  </nav>
  <div class="sidebar-footer">v1.0.8</div>
</div>
<div id="sidebarOverlay" onclick="toggleSidebar()"></div>

<div id="dbStatusStrip">–ë–î –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞</div>

<main id="inventoryModule">
  <div id="topControls">
    <button class="db-btn" onclick="document.getElementById('csvFile').click()">üìÇ –ë–∞–∑–∞</button>
    <button class="clear-btn" onclick="handleDeleteAction()">üßπ –£–¥–∞–ª–∏—Ç—å –ª–∏—Å—Ç</button>
    <button onclick="removeLast()">üóëÔ∏è –£–¥–∞–ª. –ø–æ—Å–ª.</button>
    <button class="export-btn" onclick="exportCSV()">üíæ CSV</button>
  </div>
  <input type="file" id="csvFile" accept=".csv" style="display:none">

  <div class="table-wrapper">
    <table>
      <thead>
        <tr><th>‚Ññ</th><th>–ö–æ–¥</th><th>–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ</th><th>–î–æ–ø</th><th>–Ø—á.</th><th>–û—Å—Ç.</th><th>–ö–æ–ª</th><th>–°—Ç–∞—Ç—É—Å</th></tr>
      </thead>
      <tbody id="tableBody"></tbody>
    </table>
  </div>

  <div id="bottomFixedContainer">
    <div id="tabBarContainer">
      <button id="addTabBtn" onclick="addTab()">+</button>
    </div>
    <div id="actionButtons">
      <button class="menu-btn" onclick="toggleSidebar()">‚ò∞</button>
      <button id="manualBtn">‚å®Ô∏è –í–í–û–î</button>
      <button id="startScan">üì∏ –°–ö–ê–ù–ï–†</button>
    </div>
  </div>
</main>

<main id="viewDbModule" style="display: none;">
  <div class="search-container">
    <input type="text" id="dbSearchInput" placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ –±–∞–∑–µ..." oninput="searchDb(this.value)">
  </div>

  <div class="table-wrapper">
    <table>
      <thead>
        <tr><th>–ö–æ–¥</th><th>–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ</th><th>–î–æ–ø</th><th>–Ø—á–µ–π–∫–∞</th><th>–û—Å—Ç–∞—Ç–æ–∫</th></tr>
      </thead>
      <tbody id="dbTableBody"></tbody>
    </table>
  </div>

  <div class="bottom-simple-bar">
  <button class="menu-btn" onclick="toggleSidebar()">‚ò∞</button>
  </div>
</main>

<main id="settingsModule" style="display: none;">
  <div style="padding: 20px; flex-grow: 1;">
    <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
    <p>–ó–¥–µ—Å—å –±—É–¥—É—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.</p>
    <p style="color: #666; font-size: 14px;">–ü–æ–∫–∞ –ø—É—Å—Ç–æ.</p>
  </div>

  <div class="bottom-simple-bar">
  <button class="menu-btn" onclick="toggleSidebar()">‚ò∞</button>
  </div>
</main>

<div id="videoContainer">
  <video id="video" autoplay playsinline></video>
  <canvas id="canvas" hidden></canvas>
  <button id="closeVideo">–ó–ê–ö–†–´–¢–¨</button>
</div>

<script src="jsQR.js"></script>
<script src="scanner.js"></script>
<script src="app.js"></script>
</body>
</html>


